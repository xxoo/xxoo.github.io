"use strict";define(function(){var t=Symbol("labeling"),h=Symbol("cursor"),s=Symbol("oldcursor"),e=Symbol("width"),r=Symbol("height"),o=Symbol("length"),a=Symbol("cursorColor"),f=Symbol("cursorTextColor"),n=Symbol("selectedColor"),l=Symbol("backgroundColor"),u=Symbol("outlineColor"),v=Symbol("lineColor"),y=Symbol("gridColor"),m=Symbol("rectColor"),N=Symbol("textColor"),b=Symbol("paiting"),p=Symbol("canvas2d"),S=Symbol("canvas3d"),I=Symbol("gl"),O=Symbol("ground"),c=Symbol("HV"),A=Symbol("MAX"),x=Symbol("COLOR"),R=Symbol("POSITION"),P=Symbol("OFFSET"),E=Symbol("OUTLINE"),L=Symbol("WV"),T=Symbol("X"),w=Symbol("Y"),g=Symbol("paddingX"),C=Symbol("paddingY"),B=Symbol("paddingLeft"),F=Symbol("fontSize"),X=Symbol("oldbegin"),M=Symbol("oldend"),D=Symbol("stage"),Y=Symbol("begin"),U=Symbol("end"),V=Symbol("cross"),H=Symbol("selected"),W=Symbol("max"),K=Symbol("min"),z=Symbol("lines"),j=Symbol("minLen"),q=Symbol("mouseListener");function G(t,i,h){this[C]=40,this[g]=60,this[B]=50,this[F]=8,this[a]=[1,0,0,1],this[f]=[1,1,1,1],this[l]=[1,1,1,1],this[u]=[1,1,1,1],this[n]=[0,0,0,1],this[v]=[[.75,.75,.75,1]],this[y]=[.75,.75,1,1],this[m]=[0,0,0,1],this[N]=[0,0,0,1],i||(this[V]=NaN),this[z]={},this[D]=t.appendChild(document.createElement("div")),this[D].style.width=this[D].style.height="100%",this[D].style.overflow="hidden",this[D].style.position="relative",this[D].addEventListener("contextmenu",function(t){t.preventDefault()}),this[p]=this[D].appendChild(document.createElement("canvas")),this[p].style.display="block",this[p].style.width=this[p].style.height="100%",this[S]=this[D].appendChild(document.createElement("canvas")),this[S].style.position="absolute",this[S].style.left=this[B]+"px",this[S].style.top=this[F]+"px",this[S].style.outline="none",this[S].tabIndex=0,h||(this[S].style.cursor="grab",this[q]=function(t){var i,h,s=function(t){if(2===h)o.call(this,t.offsetX);else{var s=k.call(this),e=(i-t.offsetX)%(s/(this[U]-this[Y]));this.moveCoordBy(Math.round((i-t.offsetX-e)*(this[U]-this[Y])/s))&&(i=t.offsetX-e)}}.bind(this),e=function(t){t.button===h&&(this[S].style.cursor="grab",this[S].removeEventListener("mousemove",s),this[S].ownerDocument.removeEventListener("mouseup",e),this[S].addEventListener("mousedown",this[q]))}.bind(this),r=function(){this[S].removeEventListener("mousedown",this[q]),this[S].addEventListener("mousemove",s),this[S].ownerDocument.addEventListener("mouseup",e)},o=function(t){this.cursor=this[Y]+Math.round(t*(this[U]-this[Y])/k.call(this))};0===(h=t.button)?(i=t.offsetX,this[S].style.cursor="grabbing",r.call(this)):2===h&&this[H]!==undefined&&(this[S].style.cursor="crosshair",r.call(this),o.call(this,t.offsetX))}.bind(this),this[S].addEventListener("keydown",function(t){37==t.keyCode?(t.altKey?this.cursor-=1:this.moveCoordBy(1),t.preventDefault()):39==t.keyCode?(t.altKey?this.cursor+=1:this.moveCoordBy(-1),t.preventDefault()):38==t.keyCode?(this.zoomCoordBy(-1,t.altKey),t.preventDefault()):40==t.keyCode&&(this.zoomCoordBy(1,t.altKey),t.preventDefault())}.bind(this)),this[S].addEventListener("mousedown",this[q]),this[S].addEventListener("wheel",function(t){var i=Math.abs(t.deltaX),h=Math.abs(t.deltaY);t.preventDefault(),i>h?this.moveCoordBy(Math.round(t.deltaX)):h>i&&this.zoomCoordBy(t.deltaY,t.altKey)}.bind(this))),this[O]=this[p].getContext("2d"),this[I]=this[S].getContext("webgl",{alpha:!0,premultipliedAlpha:!1,antialias:!0,powerPreference:"high-performance",depth:!1,preserveDrawingBuffer:!0});var s=this[I].createShader(this[I].VERTEX_SHADER),e=this[I].createShader(this[I].FRAGMENT_SHADER),r=this[I].createProgram();if(this[I].shaderSource(s,"attribute vec4 POSITION;\n\t\tattribute vec4 COLOR;\n\t\tattribute float WV;\n\t\tattribute float HV;\n\t\tattribute float MAX;\n\t\tattribute float OFFSET;\n\t\tattribute float OUTLINE;\n\t\tattribute float X;\n\t\tattribute float Y;\n\t\tvarying vec4 color;\n\t\tvoid translateColor(float v1, float v2) {\n\t\t\tfloat x = mod(v1, 256.0);\n\t\t\tfloat z = mod(v2, 256.0);\n\t\t\tcolor = vec4(x / 256.0, (v1 - x) / 256.0 / 256.0, z / 256.0, (v2 - z) / 256.0 / 256.0);\n\t\t}\n\t\tvoid main(void) {\n\t\t\tif (COLOR.x >= 0.0 && COLOR.y >= 0.0 && COLOR.z >= 0.0 && COLOR.w >= 0.0) {\n\t\t\t\tcolor = COLOR;\n\t\t\t} else {\n\t\t\t\ttranslateColor(POSITION.z, POSITION.w);\n\t\t\t}\n\t\t\tif (POSITION.y < 0.0 || POSITION.y >= 0.0) {\n\t\t\t\tfloat x = (POSITION.x + OFFSET) / WV;\n\t\t\t\tfloat y = (POSITION.y - MAX) / HV;\n\t\t\t\tif (OUTLINE == 1.0) {\n\t\t\t\t\ty = (Y * y + 1.0) / Y;\n\t\t\t\t} else if (OUTLINE == 2.0) {\n\t\t\t\t\ty = (Y * y - 1.0) / Y;\n\t\t\t\t} else if (OUTLINE == 3.0) {\n\t\t\t\t\tx = (X * x + 1.0) / X;\n\t\t\t\t} else if (OUTLINE == 4.0) {\n\t\t\t\t\tx = (X * x - 1.0) / X;\n\t\t\t\t}\n\t\t\t\tgl_Position = vec4(x * 2.0 - 1.0, y * 2.0 + 1.0, 0.0, 1.0);\n\t\t\t} else if (X != 0.0) {\n\t\t\t\tgl_Position = vec4(X * 2.0 / WV - 1.0, POSITION.x, 0.0, 1.0);\n\t\t\t} else if (Y != 0.0) {\n\t\t\t\tgl_Position = vec4(POSITION.x, Y * -2.0 + 1.0, 0.0, 1.0);\n\t\t\t} else if (POSITION.x == 1.0) {\n\t\t\t\tgl_Position = vec4(1.0, -1.0, 0.0, 1.0);\n\t\t\t} else if (POSITION.x == 2.0) {\n\t\t\t\tgl_Position = vec4(1.0, 1.0, 0.0, 1.0);\n\t\t\t} else if (POSITION.x == 3.0) {\n\t\t\t\tgl_Position = vec4(-1.0, 1.0, 0.0, 1.0);\n\t\t\t} else {\n\t\t\t\tgl_Position = vec4(-1.0, -1.0, 0.0, 1.0);\n\t\t\t}\n\t\t}"),this[I].shaderSource(e,"precision mediump float;\n\t\tvarying vec4 color;\n\t\tvoid main(void) {\n\t\t\tgl_FragColor = color;\n\t\t}"),this[I].compileShader(s),this[I].compileShader(e),this[I].attachShader(r,s),this[I].attachShader(r,e),this[I].linkProgram(r),this[I].useProgram(r),this[R]=this[I].getAttribLocation(r,"POSITION"),this[L]=this[I].getAttribLocation(r,"WV"),this[c]=this[I].getAttribLocation(r,"HV"),this[A]=this[I].getAttribLocation(r,"MAX"),this[P]=this[I].getAttribLocation(r,"OFFSET"),this[E]=this[I].getAttribLocation(r,"OUTLINE"),this[T]=this[I].getAttribLocation(r,"X"),this[w]=this[I].getAttribLocation(r,"Y"),this[x]=this[I].getAttribLocation(r,"COLOR"),this[I].bindBuffer(this[I].ARRAY_BUFFER,this[I].createBuffer()),this[I].vertexAttribPointer(this[R],4,this[I].FLOAT,!1,0,0),this[I].enableVertexAttribArray(this[R]),self.ResizeObserver)new ResizeObserver(Q.bind(this)).observe(this[D]);else{var o=this[D].insertBefore(document.createElement("iframe"),this[p]);o.style.border="none",o.style.display="block",o.style.position="absolute",o.style.top=o.style.left=0,o.style.width=o.style.height="100%",o.style.visibility="hidden",o.contentWindow.addEventListener("resize",Q.bind(this))}Z.call(this),d.call(this)}return G.prototype.setData=function(t){if(Number.isNaN(this[V]))for(var i in t)if(t[i]){if(t[i].data.length>1){this[z][i]={data:t[i].data,offset:0|t[i].offset,colors:t[i].colors||this[v],visible:!("visible"in t[i])||t[i].visible,tmax:-Infinity,tmin:Infinity};for(var h=0;h<t[i].data.length;h++)r.call(this,i,h)}}else delete this[z][i];else for(var s in t)if(t[s]){if(t[s].data.length>1&&t[s].cross>=0&&t[s].cross<t[s].data.length){this[z][s]={data:[],cross:t[s].cross,colors:t[s].colors||this[v],visible:!("visible"in t[s])||t[s].visible,tmax:-Infinity,tmin:Infinity};for(var e=0;e<t[s].data.length;e++)this[z][s].data[e]=(t[s].data[e]-t[s].data[t[s].cross])/(e<t[s].cross?t[s].data[e]:t[s].data[t[s].cross]),(this[z][s].data[e]>1||this[z][s].data[e]<-1)&&(this[z][s].data[e]=Math.cbrt(this[z][s].data[e])),r.call(this,s,e)}}else delete this[z][s];function r(t,i){this[z][t].tmax<this[z][t].data[i]&&(this[z][t].tmax=this[z][t].data[i],this[z][t].tmaxi=i),this[z][t].tmin>this[z][t].data[i]&&(this[z][t].tmin=this[z][t].data[i],this[z][t].tmini=i)}d.call(this)},G.prototype.setVisibility=function(t){for(var i in t)this[z][i]&&(this[z][i].visible=t[i]);d.call(this,!0)},G.prototype.remove=function(t){for(var i,h=0;h<t.length;h++)this[z].hasOwnProperty(t[h])&&(i=!0,delete this[z][t[h]]);if(i)return this[H]===undefined||this[z].hasOwnProperty(this[H])||(this[H]=undefined),d.call(this),!0},G.prototype.clear=function(){if(this[o])return this[z]={},this[H]=undefined,d.call(this),!0},G.prototype.center=function(){if(!Number.isNaN(this[h])){var t=Math.ceil((this[U]-this[Y])/2),i=this[h]-t,s=this[h]+t;return i<0?(i=0,s=2*this[h]):s>=this[o]&&(s=this[o]-1,i=2*this[h]-s),this.setRange(i,s)}},G.prototype.setRange=function(t,i){var h=_.call(this,t,i);if(h[0]!==this[Y]||h[1]!==this[U])return this[Y]=h[0],this[U]=h[1],it.call(this),!0},G.prototype.moveCoordBy=function(t){if(this[Y]+t<0?t=-this[Y]:this[U]+t>this[o]-1&&(t=this[o]-1-this[U]),t)return this[Y]+=t,this[U]+=t,it.call(this),!0},G.prototype.zoomCoordBy=function(t,i){var s,e=this[U]-this[Y];if(i&&(t=e*t/100),(s=e+2*Math[t>0?"ceil":"floor"](t/2))<this[j]?s=this[j]:s>this[o]-1&&(s=this[o]-1),s!==e){if(this[h]>=this[Y]&&this[h]<=this[U]){var r=s-e,a=this[U]-this[Y];this[Y]+=Math.round(r*(this[Y]-this[h])/a),this[U]+=Math.round(r*(this[U]-this[h])/a)}else{var f=(s-e)/2;this[Y]-=Math.ceil(f),this[U]+=Math.floor(f)}return this[Y]<0?(this[U]-=this[Y],this[Y]=0):this[U]>this[o]-1&&(this[Y]+=this[o]-1-this[U],this[U]=this[o]-1),it.call(this),!0}},G.prototype.copy=function(){var t=document.createElement("canvas"),i=t.getContext("2d");return t.width=this[p].width,t.height=this[p].height,i.drawImage(this[p],0,0,this[p].width,this[p].height),this[I].finish(),i.drawImage(this[S],0,0,this[S].width,this[S].height,this[B]*devicePixelRatio,this[F]*devicePixelRatio/2,this[S].width,this[S].height),t},Object.defineProperties(G.prototype,{length:{get:function(){return this[o]}},cross:{get:function(){return this[V]}},labeling:{get:function(){return this[t]},set:function(i){this[t]=i,this[h]>=this[Y]&&this[h]<=this[U]&&it.call(this)}},cursor:{get:function(){return this[h]},set:function(t){t=tt.call(this,t),this[h]!==t&&(this[h]=t,it.call(this))}},begin:{get:function(){return this[Y]},set:function(t){this.setRange(t,this[U])}},end:{get:function(){return this[U]},set:function(t){this.setRange(this[Y],t)}},selected:{get:function(){return this[H]},set:function(t){var i;if(t=String(t),this[z].hasOwnProperty(t)){if(this[H]===t)return;i=!this[z][t].visible||this[H]&&!this[z][this[H]].visible,this[H]=t}else this[H]=undefined;i?d.call(this,!0):(this[h]=tt.call(this,this[h]),it.call(this))}},paddingX:{get:function(){return this[g]},set:function(t){this[g]=t,Q.call(this)}},paddingY:{get:function(){return this[C]},set:function(t){this[C]=t,it.call(this)}},paddingLeft:{get:function(){return this[B]},set:function(t){this[B]=t,this[S].style.left=t+"px",Q.call(this)}},fontSize:{get:function(){return this[F]},set:function(t){this[F]=t,this[S].style.top=t+"px",Q.call(this)}},selectedColor:{get:function(){return this[n]},set:function(t){this[n]=t,it.call(this)}},backgroundColor:{get:function(){return this[l]},set:function(t){this[l]=t,it.call(this)}},lineColor:{get:function(){return this[v][0]},set:function(t){this[v][0]=t,it.call(this)}},cursorColor:{get:function(){return this[a]},set:function(t){this[a]=t,(this[h]>=this[Y]&&this[h]<=this[U]||this[z][this[H]].data[i]>=this[K]&&this[z][this[H]].data[i]<=this[W])&&it.call(this)}},gridColor:{get:function(){return this[y]},set:function(t){this[y]=t,it.call(this)}},rectColor:{get:function(){return this[m]},set:function(t){this[m]=t,it.call(this)}},textColor:{get:function(){return this[N]},set:function(t){this[N]=t,it.call(this)}}}),G;function k(){return this[e]-this[B]-this[g]/2}function J(){return this[r]-3*this[F]}function Q(){Z.call(this),$.call(this),this.setRange(this[Y],this[U])||it.call(this)}function Z(){this[e]=this[D].clientWidth,this[r]=this[D].clientHeight;var t=k.call(this),i=J.call(this);this[p].width=this[e]*devicePixelRatio,this[p].height=this[r]*devicePixelRatio,this[S].width=t*devicePixelRatio,this[S].height=i*devicePixelRatio,this[S].style.width=t+"px",this[S].style.height=i+"px",this[O].scale(devicePixelRatio,devicePixelRatio),this[I].viewport(0,0,this[S].width,this[S].height)}function $(){this[j]=Math.min(Math.floor(k.call(this)/this[g]),this[o]-1)}function d(t){var i=this[o]=0;if(Number.isNaN(this[V])){var e=Infinity;for(var r in this[z])(this[z][r].visible||this[H]===r)&&e>this[z][r].offset&&(e=this[z][r].offset),i+=this[z][r].data.length;for(var a in this[z])if(this[z][a].offset-=e,this[z][a].visible||this[H]===a){var f=this[z][a].offset+this[z][a].data.length;this[o]<f&&(this[o]=f)}}else{for(var n in this[V]=0,this[z])this[z][n].visible&&this[V]<this[z][n].cross&&(this[V]=this[z][n].cross),i+=this[z][n].data.length;for(var l in this[z])if(this[z][l].offset=this[V]-this[z][l].cross,this[z][l].visible){var u=this[z][l].offset+this[z][l].data.length;this[o]<u&&(this[o]=u)}}$.call(this),this[h]=tt.call(this,this[h]);var v=_.call(this,this[Y],this[U]);if(this[Y]=v[0],this[U]=v[1],this[X]=this[M]=this[s]=undefined,!t){var y=new Float32Array(4*i+16);for(var m in y.set([-1,NaN,NaN,NaN,1,NaN,NaN,NaN,2,NaN,NaN,NaN,3,NaN,NaN,NaN]),i=16,this[z])for(var N=this[z][m],b=void 0,p=0;p<N.data.length;p++)N.colors[p]&&(b=ht(N.colors[p],!0)),y[i++]=p,y[i++]=N.data[p],y[i++]=b[0],y[i++]=b[1];this[I].bufferData(this[I].ARRAY_BUFFER,y,this[I].STATIC_DRAW)}it.call(this)}function _(t,i){return this[o]>1?[t=Math.max(0,Math.min(t,this[o]-this[j])),Math.max(t+this[j]-1,Math.min(i,this[o]-1))]:[-Infinity,Infinity]}function tt(t){return this[H]===undefined?this[V]:(t=Number(t),Number.isNaN(t)?t=this[V]:t<this[z][this[H]].offset?t=this[z][this[H]].offset:t>=this[z][this[H]].offset+this[z][this[H]].data.length&&(t=this[z][this[H]].offset+this[z][this[H]].data.length-1),t)}function it(){this[b]||(this[b]=requestAnimationFrame(function(){var i=this,p=this[Y]!==this[X]||this[U]!==this[M];if(this[I].clearColor(this[l][0],this[l][1],this[l][2],1),this[I].clear(this[I].COLOR_BUFFER_BIT|this[I].DEPTH_BUFFER_BIT|this[I].STENCIL_BUFFER_BIT),this[O].clearRect(0,0,this[e],this[r]),this[o]>1){var S=function(i){var h=i-this[Y];et.push({x:h}),ot.push({v:h*tt,text:Number.isNaN(this[V])?this[t]?this[t](i):i:i-this[V]})},R=function(i,h){et.push({y:i}),at.push({v:i*$,text:Number.isNaN(this[V])?this[t]?this[t](h,!0):Math.round(100*h)/100:Math.round(1e3*(h>1||h<-1?Math.pow(h,3):h))/10+"%"})},D=function(t){for(var i=0;i<t.length;i++)t[i].hasOwnProperty("x")?(this[I].vertexAttrib1f(this[w],0),this[I].vertexAttrib1f(this[T],t[i].x)):(this[I].vertexAttrib1f(this[T],0),this[I].vertexAttrib1f(this[w],t[i].y)),this[I].drawArrays(this[I].LINE_STRIP,0,2)},j=function(t,i){if(this[O].font=this[F]+"px monospace",i){var h=$+1.5*this[F];this[O].textAlign="center",this[O].textBaseline="top",this[O].fillStyle=ht(this[N]);for(var s=0;s<t.length;s++)t[s].cur&&(this[O].fillStyle=ht(this[a]),this[O].fillRect(t[s].v+this[B]-this[g]/2,h-this[F]/2,this[g],2*this[F]),this[O].font="bold "+this[F]+"px monospace",this[O].fillStyle=ht(this[f])),this[O].fillText(t[s].text,t[s].v+this[B],h,this[B]-this[F])}else{var e=this[B]-this[F]/2;this[O].textAlign="right",this[O].textBaseline="middle",this[O].fillStyle=ht(this[N]);for(var r=0;r<t.length;r++)t[r].cur&&(this[O].fillStyle=ht(this[a]),this[O].fillRect(0,t[r].v,this[B],2*this[F]),this[O].font="bold "+this[F]+"px monospace",this[O].fillStyle=ht(this[f])),this[O].fillText(t[r].text,e,t[r].v+this[F],this[g]-this[F])}};if(p){var q=function(t){var h=i[z][t];if(h.visible||i[H]===t){var s,e,r=function(t,i,s,e){if(s&&e)for(var r=t;r<=i;r++){var o=h.data[r];h.max<o&&(h.max=o,h.maxi=r),h.min>o&&(h.min=o,h.mini=r)}else if(s)for(var a=t;a<=i;a++){var f=h.data[a];h.max<f&&(h.max=f,h.maxi=a)}else if(e)for(var n=t;n<=i;n++){var l=h.data[n];h.min>l&&(h.min=l,h.mini=n)}},o=Math.max(i[Y]-h.offset,0),a=Math.min(i[U]-h.offset,h.data.length-1),f=Math.max(i[X]-h.offset,0),n=Math.min(i[M]-h.offset,h.data.length-1);if(o!==f||a!==n)if(a>0&&o<h.data.length-1)h.tmaxi>=o&&h.tmaxi<=a?(h.max=h.tmax,h.maxi=h.tmaxi):s=!0,h.tmini>=o&&h.tmini<=a?(h.min=h.tmin,h.mini=h.tmini):e=!0,(s||e)&&(o>f&&a<n?(s&&(h.maxi<o||h.maxi>a)&&(h.max=-Infinity),e&&(h.mini<o||h.mini>a)&&(h.min=Infinity)):o>f&&o<n?(s&&h.maxi<o&&(h.max=-Infinity),e&&h.mini<o&&(h.min=Infinity),r.call(i,n+1,a,s&&h.max!==-Infinity,e&&h.min!==Infinity)):a>f&&a<n?(s&&h.maxi>a&&(h.max=-Infinity),e&&h.mini>a&&(h.min=Infinity),r.call(i,o,f-1,s&&h.max!==-Infinity,e&&h.min!==Infinity)):o<=f&&a>=n?(r.call(i,o,f-1,s,e),r.call(i,n+1,a,s,e)):(s&&(h.max=-Infinity),e&&(h.min=Infinity)),r.call(i,o,a,h.max===-Infinity,h.min===Infinity));else h.max=-Infinity,h.min=Infinity,h.maxi=h.mini=NaN}};for(var G in this[z])q(G);for(var G in this[W]=-Infinity,this[K]=Infinity,this[z]){var Q=this[z][G];(Q.visible||this[H===G])&&(this[W]<Q.max&&(this[W]=Q.max),this[K]>Q.min&&(this[K]=Q.min))}}var Z=k.call(this),$=J.call(this),d=this[U]-this[Y],_=this[W]-this[K],tt=Z/d,it=this[W]/_,st=Math.ceil(this[g]/tt),et=[],rt=[],ot=[{v:0,text:Number.isNaN(this[V])?this[t]?this[t](this[Y]):this[Y]:this[Y]-this[V]},{v:Z,text:Number.isNaN(this[V])?this[t]?this[t](this[U]):this[U]:this[U]-this[V]}],at=[{v:0,text:Number.isNaN(this[V])?this[t]?this[t](this[W],!0):this[W]:Math.round(1e3*(this[W]>1||this[W]<-1?Math.pow(this[W],3):this[W]))/10+"%"},{v:$,text:Number.isNaN(this[V])?this[t]?this[t](this[K],!0):this[K]:Math.round(1e3*(this[K]>1||this[K]<-1?Math.pow(this[K],3):this[K]))/10+"%"}];if(this[V]>=this[Y]&&this[V]<=this[U]){for(var ft=Math.floor((this[U]-this[V])/st),nt=(this[U]-this[V])/ft,lt=1;lt<ft;lt++)S.call(this,this[V]+Math.round(lt*nt));ft=Math.floor((this[V]-this[Y])/st),nt=(this[V]-this[Y])/ft;for(var ut=1;ut<ft;ut++)S.call(this,this[V]-Math.round(ut*nt));if(this[V]!==this[Y]&&this[V]!==this[U]){var vt=this[V]-this[Y];et.push({x:vt}),ot.push({v:vt*tt,text:0})}}else for(var yt=Math.floor((this[U]-this[Y])/st),mt=(this[U]-this[Y])/yt,Nt=1;Nt<yt;Nt++)S.call(this,this[Y]+Math.round(Nt*mt));if(Number.isNaN(this[V])||this[W]<0||this[K]>0)for(var bt=Math.floor($/this[C]),pt=1;pt<bt;pt++)R.call(this,1-pt/bt,this[K]+(this[W]-this[K])*pt/bt);else{for(var St=Math.floor(it*$/this[C]),It=1;It<St;It++)R.call(this,it-it*It/St,this[W]*It/St);St=Math.floor((1-it)*$/this[C]);for(var Ot=1;Ot<St;Ot++)R.call(this,it+(1-it)*Ot/St,this[K]*Ot/St);0!==this[W]&&0!==this[K]&&(et.push({y:it}),at.push({v:it*$,text:"0%"}))}if(!Number.isNaN(this[h]))if(this[H]===undefined){if(this[h]>=this[Y]&&this[h]<=this[U]){var ct=this[h]-this[Y];rt.push({x:ct}),ot.push({v:ct*tt,text:0,cur:!0})}rt.push({y:it}),at.push({v:it*$,text:"0%",cur:!0})}else{var At=this[h]-this[z][this[H]].offset;if(this[h]>=this[Y]&&this[h]<=this[U]){var xt=this[h]-this[Y];rt.push({x:xt}),ot.push({v:xt*tt,text:Number.isNaN(this[V])?this[t]?this[t](this[h]):this[h]:this[t]?this[t](At):this[h]-this[V],cur:!0})}if(this[z][this[H]].data[At]>=this[K]&&this[z][this[H]].data[At]<=this[W]){var Rt=(this[W]-this[z][this[H]].data[At])/_;rt.push({y:Rt}),at.push({v:Rt*$,text:Number.isNaN(this[V])?this[t]?this[t](this[z][this[H]].data[At],!0):this[z][this[H]].data[At]:this[t]?this[t](At,!0):Math.round(1e3*(this[z][this[H]].data[At]>1||this[z][this[H]].data[At]<-1?Math.pow(this[z][this[H]].data[At],3):this[z][this[H]].data[At]))/10+"%",cur:!0})}}var Pt,Et=4;for(var Lt in this[I].vertexAttrib1f(this[L],d),this[I].vertexAttrib1f(this[c],_),this[I].vertexAttrib1f(this[A],this[W]),this[I].vertexAttrib4f(this[x],NaN,NaN,NaN,NaN),this[z]){var Tt=this[z][Lt];if(Tt.visible)if(Lt===this[H])Pt=Et;else if(Tt.offset<this[U]&&Tt.data.length-1>this[Y]-Tt.offset){var wt=Math.max(this[Y]-Tt.offset,0);this[I].vertexAttrib1f(this[P],Tt.offset-this[Y]),this[I].drawArrays(this[I].LINE_STRIP,Et+wt,Math.min(this[U]-Tt.offset+1,Tt.data.length)-wt)}Et+=Tt.data.length}if(this[I].vertexAttrib4f(this[x],this[y][0],this[y][1],this[y][2],this[y][3]),D.call(this,et),this[I].vertexAttrib4f(this[x],this[a][0],this[a][1],this[a][2],this[a][3]),D.call(this,rt),this[H]!==undefined&&this[z][this[H]].offset<this[U]&&this[z][this[H]].data.length-1>this[Y]-this[z][this[H]].offset){var gt=this[z][this[H]],Ct=Math.max(this[Y]-gt.offset,0),Bt=Pt+Ct,Ft=Math.min(this[U]-gt.offset+1,gt.data.length)-Ct;this[I].vertexAttrib4f(this[x],this[u][0],this[u][1],this[u][2],this[u][3]),this[I].vertexAttrib1f(this[P],gt.offset-this[Y]),this[I].vertexAttrib1f(this[T],Z*devicePixelRatio),this[I].vertexAttrib1f(this[w],$*devicePixelRatio);for(var Xt=1;Xt<=4;Xt++)this[I].vertexAttrib1f(this[E],Xt),this[I].drawArrays(this[I].LINE_STRIP,Bt,Ft);this[I].vertexAttrib1f(this[E],0),gt.colors===this[v]?this[I].vertexAttrib4f(this[x],this[n][0],this[n][1],this[n][2],this[n][3]):this[I].vertexAttrib4f(this[x],NaN,NaN,NaN,NaN),this[I].drawArrays(this[I].LINE_STRIP,Bt,Ft)}j.call(this,ot,!0),j.call(this,at)}this[I].vertexAttrib1f(this[T],0),this[I].vertexAttrib1f(this[w],0),this[I].vertexAttrib4f(this[x],this[m][0],this[m][1],this[m][2],this[m][3]),this[I].drawArrays(this[I].LINE_LOOP,0,4),this[b]=0,this[X]=this[Y],this[M]=this[U],this.onpaitend&&this.onpaitend({type:"paitend"});p&&this.onrangechange&&this.onrangechange({type:"rangechange"});this[h]===this[s]||Number.isNaN(this[h])&&Number.isNaN(this[s])||(this[s]=this[h],this.oncursorchange&&this.oncursorchange({type:"cursorchange"}))}.bind(this)),this.onpaitbegin&&this.onpaitbegin({type:"paitbegin"}))}function ht(t,i){return i?[Math.round(255*t[0])+256*Math.round(255*t[1]),Math.round(255*t[2])+256*Math.round(255*t[3])]:"rgba("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+", "+t[3]+")"}});