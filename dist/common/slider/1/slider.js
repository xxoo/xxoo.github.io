"use strict";define(function(t){var i=function h(t,i,e,s){var r,n,l,c;if(!(this instanceof h))return new h(t,i,e,s);if(l=this,this.pushStack=[],this.removeStack=[],this.container=t,this.nav=s,t.on("mouseover",function(t){c=l.delay,l.stopPlay()}),t.on("mouseout",function(t){l.startPlay(c),c=undefined}),s&&(s.css("display","none"),s.on("click",">a",function(){var t,i;if(!$(this).hasClass("current"))for(i=s.find(">a"),t=0;t<i.length;t++)if(i[t]===this){l.slideTo(t);break}})),i instanceof Array&&i.length>0){for(this.children=i,"number"==typeof e&&e>=0&&e<i.length?this.current=e:this.current=0,r=0;r<i.length;r++)t.append(i[r]),s&&(n=$('<a href="javascript:;"></a>'),s.append(n)),r!==this.current?i[r].css("display","none"):n&&n.addClass("current");s&&i.length>1&&s.css("display","")}else this.current=undefined,this.children=[]};return i.prototype.add=function(t){var i,e;return this.sliding?this.pushStack.push(t):(i=this.children.length,this.container.append(t),this.children.push(t),this.nav&&(e=$('<a href="javascript:;"></a>'),this.nav.append(e)),0===i?(this.current=0,this.nav&&e.addClass("current"),s(this,"change")):(t.css("display","none"),this.nav&&this.nav.css("display",""))),i},i.prototype.remove=function(t){var i;return this.sliding?this.removeStack.push("number"==typeof t?this.children[t]:t):this.children.length>0&&("number"!=typeof t&&(t=this.children.indexOf(t)),t=e(t,this.children.length),(i=this.children.splice(t,1)[0]).remove(),this.nav&&this.nav.find(">a").eq(t).remove(),this.current!==t&&this.current!==this.children.length||(this.children.length>0?(this.current=e(t,this.children.length),this.children[this.current].css("display",""),this.nav&&this.nav.find(">a").eq(this.current).addClass("current")):this.current=undefined,s(this,"change")),1===this.children.length&&this.nav&&this.nav.css("display","none")),i},i.prototype.slideTo=function(t,i){var h,n,l=this;return!this.sliding&&this.children.length>1&&(t=e(t,this.children.length))!==this.current?(this.timer&&(clearTimeout(this.timer),this.timer=undefined),i?(this.children[this.current].css("display","none"),this.children[t].css("display",""),r(this)):(this.sliding=!0,this.children[this.current].fadeOut(function(){l.children[l.current].fadeIn(function(){l.sliding=!1,r(l)})})),this.nav&&(n=this.nav.find(">a"),$(n[this.current]).removeClass("current"),$(n[t]).addClass("current")),this.current=t,s(this,"change"),h=!0):h=!1,h},i.prototype.startPlay=function(t){this.stopPlay(),this.delay=t,r(this)},i.prototype.stopPlay=function(){var t;return this.delay?(delete this.delay,this.timer&&(clearTimeout(this.timer),delete this.timer),t=!0):t=!1,t},i;function e(t,i){var e=t%i;return e<0&&(e+=i),e}function s(t,i){var e="on"+i;"function"==typeof t[e]&&t[e]({type:i})}function r(t){t.delay&&(t.timer=setTimeout(function(){delete t.timer,t.slideTo(t.current+1)},t.delay))}});